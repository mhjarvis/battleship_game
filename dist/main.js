(()=>{"use strict";class t{constructor(t,e){this.name=t,this.length=e,this.timesHit=0,this.isSunk=!1,this.orientation=this.getRandomOrientation()}hit(){this.timesHit++}isSunk(){if(this.length===this.timesHit)return this.isSunk=!0,console.log(`${this.name} is Sunk!`),!0}getRandomOrientation(){return Math.random()<.5?"vertical":"horizontal"}}class e{constructor(t){this.board=this.createBoard(),this.numberOfShipsSunk=0,this.ships=[this.createShip("Destroyer",2),this.createShip("Submarine",3),this.createShip("Cruiser",3),this.createShip("Battleship",4),this.createShip("Carrier",5)],this.prefix=t}createBoard(){let t=[];for(let e=1;e<=100;e++)t.push(void 0);return t}createShip(e,i){return new t(e,i)}autoPlace(){for(let t=0;t<this.ships.length;t++){let e=!1;do{let i=this.getRandomLocation();e=this.placeShip(this.prefix+i,this.ships[t].orientation,this.ships[t].name,this.ships[t].length)}while(!1===e)}}placeShip(t,e,i,r){let s=parseInt(t.slice(1));if("vertical"===e&&10*(r-1)+s<=100){let e=t,n=s;for(let t=0;t<r;t++){if(this.board[n])return!1;n+=10}for(let n=0;n<r;n++){if(null!=this.board[s])return;this.board[s]=i,document.getElementById(e).style.backgroundColor="gray",document.getElementById(e).innerText=i.slice(0,1),s+=10,e=t.slice(0,1)+s}return!0}if("horizontal"===e&&s>r&&(s%10>=r||s%10==0)){let e=t,n=s;for(let t=0;t<r;t++){if(this.board[n])return!1;n-=1}for(let n=0;n<r;n++)this.board[s]=i,document.getElementById(e).style.backgroundColor="gray",document.getElementById(e).innerText=i.slice(0,1),s-=1,e=t.slice(0,1)+s;return!0}return!1}getRandomLocation(){return Math.floor(100*Math.random())+1}}function i(t,e,i){const r=document.querySelector(t);for(let t=0;t<e.board.length;t++){const e=document.createElement("div");e.classList.add("grid-cell"),e.id=i+(t+1),r.appendChild(e)}}!function(){const t=new e("p"),r=new e("c");i("#player-board",t,"p"),i("#computer-board",r,"c"),t.autoPlace(),r.autoPlace(),console.log(JSON.stringify(r)),console.log(JSON.stringify(t))}()})();