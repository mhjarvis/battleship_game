(()=>{"use strict";class e{constructor(e,t){this.name=e,this.length=t,this.numberOfHits=0,this.isSunk=!1,this.isHorizontal=!1}hit(){this.numberOfHits+=1}checkIfSunk(){this.length===this.numberOfHits&&(this.isSunk=!0)}}class t{constructor(){this.board=this.createBoard(),this.numberOfShipsSunk=0,this.ships=[this.createShip("patrolboat",2),this.createShip("submarine",3),this.createShip("cruiser",3),this.createShip("battleship",4),this.createShip("carrier",5)]}createBoard(){let e=[];for(let t=0;t<100;t++)e.push(void 0);return e}createShip(t,r){return new e(t,r)}placeShip(e,t){}receiveAttack(e){}testAllSunk(){return 5===this.numberOfShipsSunk}getShipOrientation(e){console.log("nothing")}getShipSize(e){this.ships.find((e=>e===this.ships.name))}}let r,o;function i(e){for(;e.firstChild;)e.firstChild.className="",e.removeChild(e.firstChild)}function n(){i(document.getElementById("player-area")),r.board=[],function(e,t,o){for(let i=1;i<=100;i++){const n=document.querySelector(`#${e}`),s=document.createElement("div");s.className=t+"grid",s.id=o+i,n.append(s),void 0!==r.board[i-1]&&document.getElementById(o+i).classList.add(r.board[i-1])}}("player-area","p","");for(let e=0;e<5;e++){let t=r.ships[e],o=d(),i=!1,n=[];for(;!1===i;)if(!0===o){let e=s(t.length),o=!0;for(let t of e)t<=0?o=!1:void 0!==r.board[t]&&(console.log("space taken"),o=!1);!0===o&&(i=!0,n=e)}else{let e=a(t.length),o=!0;for(let t of e)(t<0||t%10==0&&t!=e[0]||void 0!==r.board[t])&&(o=!1);!0===o&&(i=!0,n=e)}for(let e of n)r.board[e]=t.name}for(let e=0;e<100;e++)void 0!==r.board[e]&&document.getElementById(e).classList.add(r.board[e])}function s(e){let t=l(),r=[t];for(let o=1;o<e;o++)t-=10,r.push(t);return r}function a(e){let t=l(),r=[t];for(let o=1;o<e;o++)t-=1,r.push(t);return r}function l(){return Math.floor(100*Math.random())}function d(){return Math.random()>=.5}r=new t,o=new t,n(),function(){i(document.getElementById("computer-area")),o.board=[],function(e,t,r){for(let e=1;e<=100;e++){const t=document.querySelector("#computer-area"),r=document.createElement("div");r.className="cgrid",r.id="c"+e,t.append(r),void 0!==o.board[e-1]&&document.getElementById("c"+e).classList.add(o.board[e-1])}}();for(let e=0;e<5;e++){let t=o.ships[e],r=d(),i=!1,n=[];for(;!1===i;)if(!0===r){let e=s(t.length),r=!0;for(let t of e)t<=0?r=!1:void 0!==o.board[t]&&(console.log("cpu space taken"),r=!1);!0===r&&(i=!0,n=e)}else{let e=a(t.length),r=!0;for(let t of e)(t<0||t%10==0&&t!=e[0]||void 0!==o.board[t])&&(r=!1);!0===r&&(i=!0,n=e)}for(let e of n)o.board[e]=t.name}for(let e=0;e<100;e++)void 0!==o.board[e]&&document.getElementById("c"+e).classList.add(o.board[e])}(),document.getElementById("randomize").addEventListener("click",(()=>{n()}))})();