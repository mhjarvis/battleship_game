(()=>{"use strict";class e{constructor(e,t){this.name=e,this.length=t,this.timesHit=0,this.isSunk=!1,this.orientation=this.getRandomOrientation()}hit(){this.timesHit++}isSunk(){if(this.length===this.timesHit)return this.isSunk=!0,console.log(`${this.name} is Sunk!`),!0}getRandomOrientation(){return Math.random()<.5?"vertical":"horizontal"}}class t{constructor(e){this.board=this.createBoard(),this.numberOfShipsSunk=0,this.ships=[this.createShip("Destroyer",2),this.createShip("Submarine",3),this.createShip("Cruiser",3),this.createShip("Battleship",4),this.createShip("Carrier",5)],this.prefix=e}createBoard(){let e=[];for(let t=1;t<=100;t++)e.push(void 0);return e}createShip(t,n){return new e(t,n)}autoPlace(){for(let e=0;e<this.ships.length;e++){let t=!1;do{let n=this.getRandomLocation();t=this.placeShip(this.prefix+n,this.ships[e].orientation,this.ships[e].name,this.ships[e].length)}while(!1===t)}}placeShip(e,t,n,r){let i=parseInt(e.slice(1));if("vertical"===t&&10*(r-1)+i<=100){let t=e,o=i;for(let e=0;e<r;e++){if(this.board[o])return!1;o+=10}for(let o=0;o<r;o++){if(null!=this.board[i])return;this.board[i]=n,document.getElementById(t).style.backgroundColor="gray",document.getElementById(t).innerText=n.slice(0,1),document.getElementById(t).classList.add(n),i+=10,t=e.slice(0,1)+i}return!0}if("horizontal"===t&&i>r&&(i%10>=r||i%10==0)){let t=e,o=i;for(let e=0;e<r;e++){if(this.board[o])return!1;o-=1}for(let o=0;o<r;o++)this.board[i]=n,document.getElementById(t).style.backgroundColor="gray",document.getElementById(t).innerText=n.slice(0,1),i-=1,t=e.slice(0,1)+i;return!0}return!1}getRandomLocation(){return Math.floor(100*Math.random())+1}}function n(e,t,n){const r=document.querySelector(e);for(let e=0;e<t.board.length;e++){const t=document.createElement("div");t.classList.add("grid-cell"),t.id=n+(e+1),r.appendChild(t)}}!function(){const e=new t("p"),r=new t("c");n("#player-board",e,"p"),n("#computer-board",r,"c"),r.autoPlace()}();let r=[document.getElementById("carrier"),document.getElementById("battleship"),document.getElementById("cruiser"),document.getElementById("submarine"),document.getElementById("destroyer")],i=document.querySelectorAll(".grid-cell"),o=null,s=null;r.forEach((function(e){e.addEventListener("dragstart",(e=>{o=e.target,s=e.length,console.log(o,s)})),e.addEventListener("drag",(e=>{console.log("element is being dragged")})),e.addEventListener("dragend",(e=>{console.log("element is done being dragged")}))})),i.forEach((function(e){e.addEventListener("dragenter",(e=>{console.log("entering cell")})),e.addEventListener("dragleave",(e=>{console.log("leaving cell")})),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("drop",(e=>{e.preventDefault(),e.target.appendChild(o)}))}))})();